<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>متتبع القيود المالية</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <img src="logo.png" alt="شعار الشركة" class="logo">
        <h2 class="business-name">Ekka Barbershop | صالون إكّة للعناية بالرجل</h2>
        <h1 class="page-title">متتبع القيود المالية</h1>

        <div id="loginForm">
            <h2>تسجيل الدخول</h2>
            <input type="text" id="username" placeholder="اسم المستخدم">
            <button onclick="login()">دخول</button>
        </div>

        <div id="dashboard" class="hidden">
            <h2>مرحبًا، <span id="userRole"></span></h2>

            <div id="expenseForm">
                <h3>إضافة قيد</h3>
                <input type="text" id="description" placeholder="الوصف">
                <input type="number" id="amount" placeholder="المبلغ">
                <input type="number" id="tax" placeholder="الضريبة (اختياري)">
                <select id="type">
                    <option value="مصروف">مصروف</option>
                    <option value="ايداع">ايداع</option>
                </select>
                <input type="date" id="date">
                <button onclick="submitExpense()">إضافة</button>
            </div>

            <h3>القيود</h3>
            <table id="expenseTable">
                <thead>
                    <tr>
                        <th>الوصف</th>
                        <th>المبلغ</th>
                        <th>النوع</th>
                        <th>التاريخ</th>
                        <th>أضيف بواسطة</th>
                        <th>الإجراءات</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>

            <div id="summary">
                <p id="remaining"></p>
                <p id="totals"></p>
            </div>

            <button id="exportButton" onclick="exportExpenses()">تصدير التقرير</button>
        </div>
    </div>

    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-analytics.js";
        import { getDatabase } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-database.js";

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyD9x2lcJGd4KTPOGJT49-QsM2n5z3PUvfU",
            authDomain: "expense-tracker-7b367.firebaseapp.com",
            projectId: "expense-tracker-7b367",
            storageBucket: "expense-tracker-7b367.appspot.com",
            messagingSenderId: "690346339497",
            appId: "1:690346339497:web:97d8ef331833ade2e94db8",
            measurementId: "G-1KYY5MP13V"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const database = getDatabase(app);

        // Make Firebase services available globally
        window.app = app;
        window.database = database;
    </script>
    <script src="script.js"></script>
</body>
</html>
